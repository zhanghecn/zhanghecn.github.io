(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{423:function(t,a,s){"use strict";s.r(a);var n=s(62),r=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"asm基础"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#asm基础"}},[t._v("#")]),t._v(" asm基础")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#第一个汇编程序"}},[t._v("第一个汇编程序")]),s("ul",[s("li",[s("a",{attrs:{href:"#test-asm"}},[t._v("test.asm")])]),s("li",[s("a",{attrs:{href:"#c"}},[t._v("c++")])])])]),s("li",[s("a",{attrs:{href:"#保留字"}},[t._v("保留字")])]),s("li",[s("a",{attrs:{href:"#伪指令"}},[t._v("伪指令")]),s("ul",[s("li",[s("a",{attrs:{href:"#定义段"}},[t._v("定义段")])])])]),s("li",[s("a",{attrs:{href:"#汇编指令"}},[t._v("汇编指令")])]),s("li",[s("a",{attrs:{href:"#调试"}},[t._v("调试")])]),s("li",[s("a",{attrs:{href:"#数据类型"}},[t._v("数据类型")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"第一个汇编程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第一个汇编程序"}},[t._v("#")]),t._v(" 第一个汇编程序")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("先右键项目 - 生成依赖项 - 选中masm")])]),t._v(" "),s("li",[s("p",[t._v("右键新建项-  创建test.app - 改成test.asm")])])]),t._v(" "),s("h3",{attrs:{id:"test-asm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#test-asm"}},[t._v("#")]),t._v(" test.asm")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code\n\nGetEax proc\n    mov eax"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//将5放入寄存器eax")]),t._v("\n    add eax"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// eax 累加6")]),t._v("\n    \n    ret "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result to caller\nGetEax endp\n\nend"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"c"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#c"}},[t._v("#")]),t._v(" c++")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<iostream>")])]),t._v("\n\nusing namespace std"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extern")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetEax")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\n\n\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetEax")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\tcout "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" endl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"保留字"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#保留字"}},[t._v("#")]),t._v(" 保留字")]),t._v(" "),s("p",[t._v("保留字是不分大小写的: 如 mov Mov MOV")]),t._v(" "),s("p",[t._v("保留字有不同的类型:")]),t._v(" "),s("ul",[s("li",[t._v("助记符:MOV ADD MUL")]),t._v(" "),s("li",[t._v("寄存器名称: EAX EBX ECX EDX ESI EDI EBP ESP...")]),t._v(" "),s("li",[t._v("伪指令: 告诉汇编程序如何汇编程序")]),t._v(" "),s("li",[t._v("属性:提供变量和操作大小使用信息.列入:BYTE WORD DWORD...")]),t._v(" "),s("li",[t._v("运算符:常量表达式中使用")]),t._v(" "),s("li",[t._v("预定义符号:比如@data，它在汇编时返回常量的整数值")])]),t._v(" "),s("p",[t._v("常用的保留字:")]),t._v(" "),s("table",[s("tbody",[s("tr",[s("td",[t._v("\n\t\t\t\t$")]),t._v(" "),s("td",[t._v("\n\t\t\t\tPARITY?")]),t._v(" "),s("td",[t._v("\n\t\t\t\tDWORD")]),t._v(" "),s("td",[t._v("\n\t\t\t\tSTDCALL")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\t?")]),t._v(" "),s("td",[t._v("\n\t\t\t\tPASCAL")]),t._v(" "),s("td",[t._v("\n\t\t\t\tFAR")]),t._v(" "),s("td",[t._v("\n\t\t\t\tSWORD")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\t@B")]),t._v(" "),s("td",[t._v("\n\t\t\t\tQWORD")]),t._v(" "),s("td",[t._v("\n\t\t\t\tFAR16")]),t._v(" "),s("td",[t._v("\n\t\t\t\tSYSCALL")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\t@F")]),t._v(" "),s("td",[t._v("\n\t\t\t\tREAL4")]),t._v(" "),s("td",[t._v("\n\t\t\t\tFORTRAN")]),t._v(" "),s("td",[t._v("\n\t\t\t\tTBYTE")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tADDR")]),t._v(" "),s("td",[t._v("\n\t\t\t\tREAL8")]),t._v(" "),s("td",[t._v("\n\t\t\t\tFWORD")]),t._v(" "),s("td",[t._v("\n\t\t\t\tVARARG")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tBASIC")]),t._v(" "),s("td",[t._v("\n\t\t\t\tREAL10")]),t._v(" "),s("td",[t._v("\n\t\t\t\tNEAR")]),t._v(" "),s("td",[t._v("\n\t\t\t\tWORD")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tBYTE")]),t._v(" "),s("td",[t._v("\n\t\t\t\tSBYTE")]),t._v(" "),s("td",[t._v("\n\t\t\t\tNEAR16")]),t._v(" "),s("td",[t._v("\n\t\t\t\tZERO?")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tC")]),t._v(" "),s("td",[t._v("\n\t\t\t\tSDORD")]),t._v(" "),s("td",[t._v("\n\t\t\t\tOVERFLOW?")]),t._v(" "),s("td",[t._v("\n\t\t\t\t ")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tCARRY?")]),t._v(" "),s("td",[t._v("\n\t\t\t\tSIGN?")]),t._v(" "),s("td",[t._v("\n\t\t\t\t ")]),t._v(" "),s("td",[t._v("\n\t\t\t\t ")])])])]),t._v(" "),s("h2",{attrs:{id:"伪指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#伪指令"}},[t._v("#")]),t._v(" 伪指令")]),t._v(" "),s("p",[t._v("是嵌入源代码中的命令,由汇编识别和运行。\n用于定义变量，宏和子程序；为内存分配名称，执行许多其他与汇编相关的日常任务。")]),t._v(" "),s("p",[t._v("如：")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("myVar DWORD "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" #定义双字节变量 数据为"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v("\nmov eax"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("myVar # 赋予eax寄存器\n")])])]),s("h3",{attrs:{id:"定义段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#定义段"}},[t._v("#")]),t._v(" 定义段")]),t._v(" "),s("p",[s("code",[t._v(".data")]),t._v(" 定义变量数据段\n"),s("code",[t._v(".code")]),t._v(" 包含可执行命令\n"),s("code",[t._v(".stack 100h")]),t._v(" 栈大小")]),t._v(" "),s("h2",{attrs:{id:"汇编指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#汇编指令"}},[t._v("#")]),t._v(" 汇编指令")]),t._v(" "),s("p",[t._v("指令由4个部分组成:")]),t._v(" "),s("ol",[s("li",[t._v("标号(可选)")]),t._v(" "),s("li",[t._v("助记符(必须)")]),t._v(" "),s("li",[t._v("操作数(通常必须)")]),t._v(" "),s("li",[t._v("注释(可选)")])]),t._v(" "),s("ul",[s("li",[t._v("标号\n数据标号定义变量位置，使用直接引用")])]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("count DWORD "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" \n")])])]),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("array DWORD "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),t._v("\n      DWORD "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8192")]),t._v("\n")])])]),s("p",[t._v("程序代码区:")]),t._v(" "),s("div",{staticClass:"language-asm extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("target:\n    mov ax,bx\n    ...\n    jmp target 跳回标号\n")])])]),s("p",[t._v("代码标号可以和指令在一起，也可以独立一行")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("L1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" mov ax"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("bx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nL2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n")])])]),s("ul",[s("li",[t._v("助记符\n常用如下:")])]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("mov 分配数值\nmul 两数相乘\nadd 两数相加\njmp 跳到新位置\nsub 相减\ncall 调用子程序"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("函数"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ul",[s("li",[t._v("注释")])]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("COMMENT "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n       这是一个多行注释\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" 这是一个单行注释\n")])])]),s("ul",[s("li",[t._v("nop\n空指令 不做任何操作 但在内存中占用1个字节")])]),t._v(" "),s("h2",{attrs:{id:"调试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#调试"}},[t._v("#")]),t._v(" 调试")]),t._v(" "),s("p",[t._v("visual studio 对汇编的调试还是很友好的")]),t._v(" "),s("p",[t._v("由于生成的是64位程序,其中的eax就对应成了rax\n"),s("img",{attrs:{src:"/img_4.png",alt:"image"}})]),t._v(" "),s("p",[t._v("还要注意一点我标红的地方\n"),s("strong",[t._v("B8")]),t._v(" 操作码对应助记符就是mov\n"),s("strong",[t._v("B3 C0")]),t._v(" 操作码对应的就是add")]),t._v(" "),s("h2",{attrs:{id:"数据类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据类型"}},[t._v("#")]),t._v(" 数据类型")]),t._v(" "),s("p",[t._v("汇编识别一组基本的数据类型\n按照数据大小字节 字 双字节 ，是否有符号 是整数还是实数来描述其类型。\n列如:")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("DWORD 无符号整数可以和\nSDWORD 有符号整数相互转换 \n")])])]),s("p",[t._v("下面了给出一组IEEE 标准实数格式")]),t._v(" "),s("table",[s("tbody",[s("tr",[s("th",[t._v("\n\t\t\t\t类型")]),t._v(" "),s("th",[t._v("\n\t\t\t\t用法")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tBYTE")]),t._v(" "),s("td",[t._v("\n\t\t\t\t8 位无符号整数，B 代表字节")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tSBYTE")]),t._v(" "),s("td",[t._v("\n\t\t\t\t8 位有符号整数，S 代表有符号")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tWORD")]),t._v(" "),s("td",[t._v("\n\t\t\t\t16 位无符号整数")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tSWORD")]),t._v(" "),s("td",[t._v("\n\t\t\t\t16 位有符号整数")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tDWORD")]),t._v(" "),s("td",[t._v("\n\t\t\t\t32 位无符号整数，D 代表双（字）")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tSDWORD")]),t._v(" "),s("td",[t._v("\n\t\t\t\t32 位有符号整数，SD 代表有符号双（字）")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tFWORD")]),t._v(" "),s("td",[t._v("\n\t\t\t\t48 位整数（保护模式中的远指针）")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tQWORD")]),t._v(" "),s("td",[t._v("\n\t\t\t\t64 位整数，Q 代表四（字）")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tTBYTE")]),t._v(" "),s("td",[t._v("\n\t\t\t\t80 位（10 字节）整数，T 代表 10 字节")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tREAL4")]),t._v(" "),s("td",[t._v("\n\t\t\t\t32 位（4 字节）IEEE 短实数")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tREAL8")]),t._v(" "),s("td",[t._v("\n\t\t\t\t64 位（8 字节）IEEE 长实数")])]),t._v(" "),s("tr",[s("td",[t._v("\n\t\t\t\tREAL10")]),t._v(" "),s("td",[t._v("\n\t\t\t\t80 位（10 字节）IEEE 扩展实数")])])])]),t._v(" "),s("ol",[s("li",[t._v("定义多初始化值")])]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("list BYTE "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("定义字符串")])]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("str BYTE "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ABCDEFG"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("DUP操作符\n为多个项分配存储空间，为字符串和数组分配格外有用")])]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("BYTE "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("DUP")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 分配"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("个直接数据都为"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nBYTE "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("DUP")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"STACK"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("个字节的字符串 \n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("定位word和sword 数据")])]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("word1 WORD "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("65535")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("无符号\nword2 SWORD "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("32768")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("有符号\nword1 WORD "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("未初始化\n")])])]),s("p",[t._v("还可以通过dup 来进行数组的初始化")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("array DWORD "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("个长度的数组 不初始化数据\n")])])]),s("p",[t._v("如果定义的是QWORD数组,那么数组的偏移量地址就为8个字节了")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("array  QWORD "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("DUP")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ol",{attrs:{start:"5"}},[s("li",[t._v("定义浮点类型")])]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("rVal1 REAL4 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.2")]),t._v("\nrVal2 REAL8 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.2E-260")]),t._v("\nrVal3 REAL10 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.6E+4096")]),t._v("\n")])])]),s("p",[t._v("其中REAL4 为短实数 REAL8 长实数 REAL10扩展精度实数")]),t._v(" "),s("ol",{attrs:{start:"6"}},[s("li",[t._v("测试变量加法程序")])]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data\nfirVal DWORD "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ntwoVal DWORD "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("456")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nthreVal DWORD "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("789")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code\n\nGetTotal PROC\nmov eax"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("firVal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nadd eax"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("twoVal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nadd eax"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("threVal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nret"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nGetTotal ENDP"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nEND"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("变量引用的数据内的偏移量，列如:")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data\nvar1 BYTE "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("H "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//16进制的10")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//加入var1 的距离程序头地址的偏移为 0001001 如下指令将变量的值复制到al寄存器中 ")]),t._v("\nmov al"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("val1\n\n翻译成"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v("进制机器码为"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\nA0 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0001001")]),t._v("\n另一种常用的写法为"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\nmov al"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("var1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n一般来说这种写法设计到地址的运算 \nmov al"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("var1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \nA0 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0001006")]),t._v("\n")])])])])])}),[],!1,null,null,null);a.default=r.exports}}]);